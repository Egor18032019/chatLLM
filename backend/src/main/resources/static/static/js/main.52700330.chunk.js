(this["webpackJsonpfrontend-chat"]=this["webpackJsonpfrontend-chat"]||[]).push([[0],{102:function(e,a,t){e.exports=t(230)},107:function(e,a,t){},108:function(e,a,t){},211:function(e,a,t){},230:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(8),s=t.n(r),c=(t(107),t(44)),o=t(11);function m(){return l.a.createElement("div",null,l.a.createElement("h1",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),l.a.createElement("ul",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",l.a.createElement("li",null,"1"),l.a.createElement("li",null,"2")))}var i=t(60),u=t.t(i,2);t(108);const d=e=>(console.log(JSON.stringify(e)+"- stringify"),l.a.createElement("div",{className:"menu-cards"},i.links.map(e=>l.a.createElement("div",{key:e.href,className:"card-link"},l.a.createElement(c.b,{to:e.href,className:"card-link"},e.label)))));function g(){return l.a.createElement("div",{className:"navi"},l.a.createElement("div",{className:"logo-container"},l.a.createElement("span",null,"Giga chat education")),l.a.createElement(d,{links:u}))}var E=t(93),p=t.n(E),h=(t(211),t(261)),v=t(260);var f=e=>{let{onSendMessage:a}=e;const[t,r]=Object(n.useState)("");let s=()=>{r(""),a(t)};return l.a.createElement("div",{className:"message-input"},l.a.createElement(v.a,{className:"inputField",label:"Type your message here...",placeholder:"Enter your message and press ENTER",onChange:e=>(e=>{r(e.target.value)})(e),margin:"normal",value:t,onKeyPress:e=>{"Enter"===e.key&&s()},style:{height:"30px",width:"80%"}}),l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:s},"Send"))};var b=e=>{let{onSubmit:a}=e;const[t,r]=Object(n.useState)("");let s=()=>{a(t)};return l.a.createElement("div",null,l.a.createElement(v.a,{label:"Type your username",placeholder:"Username",onChange:e=>r(e.target.value),margin:"normal",onKeyPress:e=>{"Enter"===e.key&&s()}}),l.a.createElement("br",null),l.a.createElement(h.a,{variant:"contained",color:"primary",onClick:s},"Login"))};var N=e=>{let{messages:a,currentUser:t}=e;const r=Object(n.useRef)(null);return Object(n.useEffect)(()=>{r.current&&r.current.scrollIntoView({behavior:"smooth"})},[a]),l.a.createElement("ul",{className:"messages-list"},a.map(e=>(e=>{const{sender:a,content:n,timestamp:r,color:s}=e,c=t.username===e.sender?"Messages-message currentUser":"Messages-message";let o=new Date(r);return l.a.createElement("li",{className:c},l.a.createElement("span",{className:"avatar",style:{backgroundColor:s}}),l.a.createElement("div",{className:"Message-content"},l.a.createElement("div",{className:"username"},a,l.a.createElement("span",null," in "+o.getHours()+" : "+o.getMinutes()+" : "+o.getSeconds())),l.a.createElement("div",{className:"text"},n)))})(e)),l.a.createElement("div",{ref:r}))},y=t(94);const S=t.n(y).a.create({baseURL:"/api"});var k={sendMessage:(e,a)=>{console.log("sendMessage "+a);let t={sender:e,content:a};return S.post("/send",t)}};var M=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(null);return l.a.createElement("div",{className:"App"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{url:"http://127.0.0.1:8080/ws-chat/",topics:["/topic/group"],onConnect:()=>{console.log("Connected on SockJsClient !!! ")},onDisconnect:()=>{console.log("Disconnected  !!! ")},onMessage:t=>(t=>{console.log("New Message Received!!",t),a(e.concat(t))})(t),debug:!1}),l.a.createElement(N,{messages:e,currentUser:t}),l.a.createElement(f,{onSendMessage:e=>{k.sendMessage(t.username,e).then(e=>{console.log("Sent",e)}).catch(e=>{console.log("Error Occurred while sending message to api")})}})):l.a.createElement(b,{onSubmit:e=>{console.log(e," Logged in.."),r({username:e,color:"#"+Math.floor(16777215*Math.random()).toString(16)})}}))};function O(){return l.a.createElement(c.a,null,l.a.createElement(g,null),l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/root",component:M}),l.a.createElement(o.a,{path:"/admin",component:m})))}s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root"))},60:function(e){e.exports=JSON.parse('{"links":[{"label":"Root","href":"/root"},{"label":"Info(\u0430\u0434\u043c\u0438\u043d\u043a\u0430)","href":"/admin"}]}')}},[[102,1,2]]]);
//# sourceMappingURL=main.52700330.chunk.js.map