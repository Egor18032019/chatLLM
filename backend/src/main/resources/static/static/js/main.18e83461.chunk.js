(this["webpackJsonpfrontend-chat"]=this["webpackJsonpfrontend-chat"]||[]).push([[0],{100:function(e,n,t){},198:function(e,n,t){},219:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(8),s=t.n(r),c=(t(100),t(23)),l=t(85),i=t.n(l),u=(t(198),t(250)),m=t(249),g=function(e){var n=e.onSendMessage,t=Object(a.useState)(""),r=Object(c.a)(t,2),s=r[0],l=r[1],i=function(){l(""),n(s)};return o.a.createElement("div",{className:"message-input"},o.a.createElement(m.a,{className:"inputField",label:"Type your message here...",placeholder:"Enter your message and press ENTER",onChange:function(e){return function(e){l(e.target.value)}(e)},margin:"normal",value:s,onKeyPress:function(e){"Enter"===e.key&&i()},style:{height:"30px",width:"80%"}}),o.a.createElement(u.a,{variant:"contained",color:"primary",onClick:i},"Send"))},d=function(e){var n=e.onSubmit,t=Object(a.useState)(""),r=Object(c.a)(t,2),s=r[0],l=r[1],i=function(){n(s)};return o.a.createElement("div",null,o.a.createElement(m.a,{label:"Type your username",placeholder:"Username",onChange:function(e){return l(e.target.value)},margin:"normal",onKeyPress:function(e){"Enter"===e.key&&i()}}),o.a.createElement("br",null),o.a.createElement(u.a,{variant:"contained",color:"primary",onClick:i},"Login"))},f=function(e){var n=e.messages,t=e.currentUser;return o.a.createElement("ul",{className:"messages-list"},n.map((function(e){return function(e){var n=e.sender,a=e.content,r=e.color,s=t.username===e.sender?"Messages-message currentUser":"Messages-message";return o.a.createElement("li",{className:s},o.a.createElement("span",{className:"avatar",style:{backgroundColor:r}}),o.a.createElement("div",{className:"Message-content"},o.a.createElement("div",{className:"username"},n),o.a.createElement("div",{className:"text"},a)))}(e)})))},E=t(87),h=t.n(E).a.create({baseURL:"/api"}),p={getMessages:function(e){return console.log("Calling get messages from API "+e),h.get("messages/".concat(e))},sendMessage:function(e,n){var t={sender:e,content:n};return h.post("/send",t)}};var v=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(null),l=Object(c.a)(s,2),u=l[0],m=l[1];return o.a.createElement("div",{className:"App"},u?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{url:"http://127.0.0.1:8080/ws-chat/",topics:["/topic/group"],onConnect:function(){console.log("Connected on SockJsClient !!! ")},onDisconnect:console.log("Disconnected!"),onMessage:function(e){return function(e){console.log("New Message Received!!",e),r(t.concat(e))}(e)},debug:!1}),o.a.createElement(f,{messages:t,currentUser:u}),o.a.createElement(g,{onSendMessage:function(e){p.sendMessage(u.username,e).then((function(e){console.log("Sent",e)})).catch((function(e){console.log("Error Occurred while sending message to api")}))}})):o.a.createElement(d,{onSubmit:function(e){console.log(e," Logged in.."),m({username:e,color:"#"+Math.floor(16777215*Math.random()).toString(16)})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,n,t){e.exports=t(219)}},[[95,1,2]]]);
//# sourceMappingURL=main.18e83461.chunk.js.map